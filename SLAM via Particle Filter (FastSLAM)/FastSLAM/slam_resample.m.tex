\textbf{Please explain all your filled-in codes with a snapshot of those lines of code. List formulas you have used for that part of code.}\\
The code is used to implement a resampling process for a particle filter. Resampling is when the algorithm is used to focus on the particles to understand the current state of the system better utilizing weights of the particles. The higher the weight of the particle, the closer the estimate of current state is to the true state, allowing the system to avoid the lower-weighted particles. The method implemented in Stochastic universal sampling, and the code can be found in Fig (\ref{fig:SLAMresample}). The equations used and theory are described below:
\begin{enumerate}
    \item Generate a random number that is between 0 and the total weight of the particles to determine what particle is to be selected in the resampling process.
    \begin{align*}
        \text{random\_number} \sim \mathcal{U}(0, W_{\text{total}})
    \end{align*}
    \item Calculate the cumulative weight of the particles to match the random number to a specific particle, such that whenever the cumulative weight exceeds the number generated, that particle is selected.
    \begin{align}
        W_{\text{cum}} = \sum_{k=1}^{j} w_k
    \end{align}
    \item Add the selected particle to the new set of particles, such that we reset its weight to the initial weight of all the particles
    \begin{align*}
        w_{\text{new}} = \text{init\_weight}
    \end{align*}
\end{enumerate}

\begin{lstlisting}
% Create an array to store newly resampled particles
new_particles = particles;

for i = 1:particles_count
    % Missing codes start here
    % Generate a number between the total weight and 0
    random_num = rand() * weight_total;

    % Resamples particles based on their weights
    cum_weight = 0;
    for k = 1:particles_count
        cum_weight = cum_weight + particles(k).weight;
        if cum_weight >= random_num
            % Select the following particle to be resamples
            new_particles(i) = particles(k);
            break;
        end
    end

    % Afterwards, each new partical should be given the same init_weight
    new_particles(i).weight = init_weight;

    % Missing codes end here
    end

% Replace the old particles with new ones
particles = new_particles;
\end{lstlisting}
\captionof{figure}{MATLAB Code for Slam resample}
\label{fig:SLAMresample}
